= Choice =
* Why not have choice send text from the server dynamically?
Because that's do more traffic (mainly static), useless for signs, need choose the right translation, ... You need wait the server, you need translation part on the server, ... the it's not very powerful.
* No object using during a fight/battle into PvP, because can be an infinite battle (potion usage).
* '''All the bot battle info (monsters, level, attack, ...) is implicit, see the general protocol description'''

= General =
== Client &rarr; Server with reply ==
{| class="wikitable" style="text-align: center; font-size: 85%; width: auto; table-layout: fixed;"
|-
! Main code type
! Sub code type
! Query number
! Packet size
! Data
|-
|}
{{Note}}All the main code in this column is considered query with needed reply.

== Client &rarr; Server without reply ==
{| class="wikitable" style="text-align: center; font-size: 85%; width: auto; table-layout: fixed;"
|-
! Main code type
! Sub code type
! Query number
! Packet size
! Data
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 01
| 
| {{Yes}}
| [[Battle_messages#600001|Use an object/recipe in battle]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 02
| 
| {{No}}
| [[Battle_messages#6002|Try escape]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 03
| 
| {{No}}
| [[Battle_messages#6003|Change monster]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 04
| 
| {{No}}
| [[Battle_messages#6004|Learn attack]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 05
| XX
| {{Yes}}
| [[Battle_messages#605|Request a player battle]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 06
| 
| {{No}}
| [[Battle_messages#6006|Heal all the monster]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 07
| 
| {{No}}
| [[Battle_messages#6007|Start a requested bot fight]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 08
| 
| {{No}}
| [[Battle_messages#6008|Monster up/down]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 09
| 
| {{No}}
| [[Battle_messages#6009|Monster change in fight]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 0A
| 
| {{No}}
| [[Battle_messages#600A|Monster evolution validated]]
|-
| style="background: #90ff90; color: black;" | 60
| style="background: #ffcc00; color: black;" | 0B
| 
| {{No}}
| [[Battle_messages#600B|Use object on monster]]
|-
| style="background: #90ff90; color: black;" | 61
| 
| 
| {{No}}
| [[Battle_messages#51|Use an attack of a monster]]
|}

== Server &rarr; Client with reply ==
{| class="wikitable" style="text-align: center; font-size: 85%; width: auto; table-layout: fixed;"
|-
! Main code type
! Sub code type
! Query number
! Packet size
! Data
|-
| style="background: #90ff90; color: black;" | 90
| style="background: #ffcc00; color: black;" | 01
| XX
| {{Yes}}
| [[Battle_messages#9001|Another player request a battle]]
|}

== Server &rarr; Client without reply ==
{| class="wikitable" style="text-align: center; font-size: 85%; width: auto; table-layout: fixed;"
|-
! Main code type
! Sub code type
! Query number
! Packet size
! Data
|-
| style="background: #90ff90; color: black;" | E0
| style="background: #ffcc00; color: black;" | 06
| 
| {{Yes}}
| [[Battle_messages#E006|Result of the turn]] (battle)
|-
| style="background: #90ff90; color: black;" | E0
| style="background: #ffcc00; color: black;" | 07
| 
| {{No}}
| [[Battle_messages#E007|The other player have declined you battle request]]
|-
| style="background: #90ff90; color: black;" | E0
| style="background: #ffcc00; color: black;" | 08
| 
| {{Yes}}
| [[Battle_messages#E008|The other player have accepted you battle request]]
|-
| style="background: #90ff90; color: black;" | E0
| style="background: #ffcc00; color: black;" | 09
| 
| {{Yes}}
| [[Battle_messages#E009|Random seed list]]
|}

= Reply =
== Server &rarr; Client ==
{| class="wikitable" style="text-align: center; font-size: 85%; width: auto; table-layout: fixed;"
|-
! Main code type of the query
! Sub code type of the query
! Packet size for the reply
! Query
|-
| style="background: #90ff90; color: black;" | 10
| style="background: #ffcc00; color: black;" | 01
| {{No}}
| [[Battle_messages#Reply_1001|Request a player battle]]
|}
== Client &rarr; Server ==
{| class="wikitable" style="text-align: center; font-size: 85%; width: auto; table-layout: fixed;"
|-
! Main code type of the query
! Sub code type of the query
! Packet size for the reply
! Query
|-
| style="background: #90ff90; color: black;" | 90
| style="background: #ffcc00; color: black;" | 01
| {{No}}
| [[Battle_messages#Reply_9001|Another player request a battle]]
|}

= Details =
== Server &rarr; Client without reply ==
=== E006 ===
Send <span style="color: #FF4000">01</span> attack return.

* doByTheCurrentMonster: <span style="color: #FF4000">01</span> (01 yes, 00 no)
* Case number: <span style="color: #FF4000">01</span> (01 normal attack, 02 monster change, 03 item used)

After send one of this case, depands on case number:

==== Normal attack ====
* success: <span style="color: #FF4000">01</span> (01 yes, 00 no)
* attack: <span style="color: #40BF00">0001</span>
* QList<BuffEffect> addBuffEffectMonster
* QList<BuffEffect> removeBuffEffectMonster
* QList<LifeEffectReturn> lifeEffectMonster
* QList<LifeEffectReturn> buffLifeEffectMonster

==== Monster change ====
* monster place: <span style="color: #7B00FF">01</span>
* monsters: <span style="color: #FF4000">0001</span>
* level: <span style="color: #40BF00">01</span>
* hp: <span style="color: #FFBF00">00000001</span>
* captured_with: <span style="color: #40BF00">0001</span>
* gender: <span style="color: #FF4000">01</span>
* size of list of the buff monsters: <span style="color: #7B00FF">00000001</span>
** buff: <span style="color: #40BF00">01</span>
** buff level: <span style="color: #FF4000">01</span>

==== Item usage ====
* on_current_monster: <span style="color: #FF4000">01</span> (01 yes, 00 no)
* item: <span style="color: #40BF00">00000001</span>

=== E008 ===
Pseudo and skin id is send to have the details.

Number of monster: <span style="color: #A600FF">01</span>, Stat of the monster: <span style="color: #FFBF00">01</span>, monster place <span style="color: #0000FF">01</span>:
* monsters: <span style="color: #FF4000">00000001</span>
* level: <span style="color: #40BF00">01</span>
* hp: <span style="color: #FFBF00">00000001</span>
* captured_with: <span style="color: #40BF00">00000001</span>
* gender: <span style="color: #FF4000">01</span>
* size of list of the buff monsters: <span style="color: #7B00FF">00000001</span>
** buff: <span style="color: #40BF00">00000001</span>
** buff level: <span style="color: #FF4000">01</span>

 <span style="color: #A600FF">01</span><span style="color: #FFBF00">01</span><span style="color: #0000FF">01</span><span style="color: #FF4000">00000001</span><span style="color: #40BF00">01</span><span style="color: #FFBF00">00000001</span><span style="color: #40BF00">00000001</span><span style="color: #FF4000">01</span><span style="color: #7B00FF">00000001</span><span style="color: #40BF00">00000001</span><span style="color: #FF4000">01</span>

Stat of the monster:
* 0x01: ready for battle
* 0x02: not able to battle

=== E009 ===
Server -&gt; Client: random bytes: <span style="color: #40BFFF">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX[...]XXXXXXXXXXX</span>

 <span style="color: #40BFFF">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX[...]XXXXXXXXXXX</span>

== Client &rarr; Server without reply ==
=== 6004 ===
Monster id: <span style="color: #40BFFF">00000001</span>, skill: <span style="color: #94CF00">0001</span>

=== 6007 ===
Start a requested bot fight, with bot fightId: <span style="color: #40BFFF">0001</span>

=== 6008 ===
* Monster action: <span style="color: #FF4000">01</span> (0x01 = up, 0x02 = down)
* Monster number: <span style="color: #40BF00">01</span> (1 to X)

=== 6009 ===
* Monster id: <span style="color: #FF4000">0001</span>

=== 61 ===
Attack id: <span style="color: #40BFFF">0001</span>

 <span style="color: #40BFFF">0001</span>
